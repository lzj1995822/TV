<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="lib/vue.min.js"></script>
    <script src="lib/swiper.min.js"></script>
    <script src="lib/vue-awesome-swiper.js"></script>
    <script src="lib/axios.min.js"></script>
    <script src="js/api.js"></script>
    <script src="lib/vue-seamless-scroll.min.js"></script>
    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <!-- Include stylesheet -->
    <!--<link href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.7/css/swiper.min.css" rel="stylesheet">-->
    <!--&lt;!&ndash; Include the Swiper library &ndash;&gt;-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.0.7/js/swiper.min.js"></script>-->
    <!--<script src="https://cdn.jsdelivr.net/npm/vue"></script>-->
    <!--&lt;!&ndash; Swiper JS Vue &ndash;&gt;-->
    <!--<script src="https://cdn.jsdelivr.net/npm/vue-awesome-swiper@3.1.2/dist/vue-awesome-swiper.js"></script>-->
    <link rel="stylesheet" href="css/swiper.min.css" />
</head>
<style>
    * {
        margin: 0;
        padding: 0;
    }
    html {
        height: 100%;
    }
    body {
        width: 100%;
        height: 100%;
    }
    #app {
        width: 100%;
        height: 100%;
    }
    .title {
        width: 1083px;
        height: 90px;
        position: relative;
        top: 40px;
        left: 40px;
        background: url("img/index/title.png") no-repeat;
    }
    .container {
        width: 100%;
        height: 100%;
        background: url("img/index/bg.jpg") no-repeat;
        background-size: 100% auto;
    }
    .content {
        margin-top: 100px;
        display: flex;
    }
    .content_left {
        flex: 3.5;
        background: transparent;
        padding: 0px 60px;
    }
    .content_right {
        width: 1400px;
        height: 500px;
        margin-right: 60px;
    }
    .swiper-slide {
        width: 773px;
    }
    .activity_detail {
        width: 773px;
        height: 532px;
        margin: 0 auto;
        background: url("img/index/card-bg.png") no-repeat;
        background-size: cover;
        border-radius: 3px;
        color: white;
    }
    .activity_detail2 {
        width: 612px;
        height: 423px;
        margin: 0 auto;
        background-color: black;
        opacity: 0.2;
    }
    .warp {
        height: 300px;
        overflow: hidden;
        background-image: linear-gradient(-45deg, #2E6AC1, #4463B7, #3D58B2);
        border: 1px solid #007aff7d;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.27), 0 0 80px rgba(0, 0, 0, 0.06) inset;;
    }
    .warp ul {
        padding: 0 20px;
    }
    .warp ul li {
        list-style: none;
        font-size: 20px;
        line-height: 36px;
        width: 100% !important;
        border-bottom: 1px solid #ffffff;
        color: #f5f5f5;
        padding-top: 14px;
    }
    .left_title {
        display: flex;
        background-image: linear-gradient(to bottom, #ffffff ,#E3E6E7);
        padding: 10px;
        border-top-left-radius: 5px;
        border-top-right-radius: 5px;
    }
    .swiper-pagination {
        margin: 40px auto;
        position: relative;
    }
    .swiper-pagination-bullet {
        width: 18px;
        height: 18px;
        margin: 0 4px;
    }
    .el-col {
        padding: 0 10px 0 0 !important;
    }
</style>
<body>
<div id="app">
    <div class="container">
        <div class="title"></div>
        <div class="content">
            <div class="content_left">
                <div>
                    <div class="left_title">
                        <img src="img/index/acting.png" alt=""><h2>&nbsp;本月执行中</h2>
                    </div>
                    <vue-seamless-scroll :data="parActivity.currentMonth" class="warp">
                        <ul class="item" ref="listItem">
                            <li v-for="(item,index) in parActivity.currentMonth" style="width: 300px;">
                                <span>{{index+1}}、{{item.title}}</span>
                                <span style="float:right;font-size: 20px;">{{item.month}}</span>
                            </li>
                        </ul>
                    </vue-seamless-scroll>
                </div>
                <br>
                <br>
                <div>
                    <div class="left_title">
                        <img src="img/index/plan.png" alt=""><h2>&nbsp;下月待执行</h2>
                    </div>
                    <vue-seamless-scroll :data="parActivity.nextMonth" class="warp">
                        <ul class="item" ref="listItem">
                            <li v-for="(item,index) in parActivity.nextMonth" style="width: 300px;">
                                <span>{{index+1}}、{{item.title}}</span>
                                <span style="float:right;font-size: 20px;">{{item.month}}</span>
                            </li>
                        </ul>
                    </vue-seamless-scroll>
                </div>

            </div>
            <div class="content_right">
                <div style="position: relative;z-index: 10">
                    <h1 style="color: white;margin: 0 auto 40px auto;text-align: center">本月任务</h1>
                    <swiper ref="awesomeSwiperA" :options="swipperOptions" >
                        <!-- slides -->
                        <swiper-slide v-for="(item, index) in todoList" :key="item.id">
                            <div class="activity_detail">
                                <h1 style="position: relative;top: 60px;left: 60px;">
                                    <img v-show="item.taskType === 'Party'" src="/img/party-logo.png" alt="党建logo"/>
                                    <img v-show="item.taskType === 'DistLearning'" src="/img/learning-logo.png" alt="远教logo"/>
                                        {{item.title}}</h1>
                                <div style="position: relative;top: 100px;left: 60px;font-size: 24px">
                                    <el-row style="margin: 15px 0">
                                        <el-col style="width: 140px;">任务类型：</el-col>
                                        <el-col style="width: 480px;">{{item.type}}</el-col>
                                    </el-row>
                                    <el-row style="margin: 15px 0">
                                        <el-col style="width: 140px;">任务分值：</el-col>
                                        <el-col style="width: 480px;">{{item.score}}分</el-col>
                                    </el-row>
                                    <el-row style="margin: 15px 0">
                                        <el-col style="width: 140px;">截止日期：</el-col>
                                        <el-col style="width: 480px;">{{item.month}}</el-col>
                                    </el-row>
                                    <el-row style="margin: 15px 0">
                                        <el-col style="width: 140px;">任务内容：</el-col>
                                        <el-col style="width: 480px;">{{item.context}}</el-col>
                                    </el-row>
                                </div>
                            </div>
                        </swiper-slide>
                        <!-- Optional controls -->
                    </swiper>
                </div>
                <div class="swiper-pagination"  slot="pagination"></div>

            </div>
        </div>
    </div>
</div>
<script type="application/ecmascript">
    Vue.use(VueAwesomeSwiper);
    let app = new Vue({
        el: '#app',
        data() {
            return {
                swipperOptions: {
                    effect: 'coverflow',
                    grabCursor: true,
                    centeredSlides: true,
                    slidesPerView: 'auto',
                    coverflowEffect: {
                        rotate: 50,
                        stretch: 250,
                        depth: 400,
                        modifier: 1,
                        slideShadows : true
                    },
                    pagination: {
                        el: '.swiper-pagination'
                    },
                    on: {
                        progress: function (progress) {
                            for (i = 0; i < this.slides.length; i++) {
                                var slide = this.slides.eq(i);
                                var slideProgress = this.slides[i].progress;
                                modify = 1;
                                if (Math.abs(slideProgress) > 1) {
                                    modify = (Math.abs(slideProgress) - 1) * 0.3 + 1;
                                }
                                translate = slideProgress * modify * 260 + 'px';
                                scale = 1 - Math.abs(slideProgress) / 5;
                                zIndex = 999 - Math.abs(Math.round(10 * slideProgress));
                                slide.transform('translateX(' + translate + ') scale(' + scale + ')');
                                slide.css('zIndex', zIndex);
                                slide.css('opacity', 1);
                                if (Math.abs(slideProgress) > 3) {
                                    slide.css('opacity', 0);
                                }
                            }
                        },
                        setTransition: function (transition) {
                            for (let i = 0; i < this.slides.length; i++) {
                                let slide = this.slides.eq(i)
                                slide.transition(transition);
                            }

                        }
                    }
                },
                parActivity: {},
                todoList:[]
            }
        },
        methods: {
        },
        created() {
            this.$http.get('/identity/parActivity/tv/index').then(
                data => {
                    this.parActivity = data.data.content;
                }
            )
            this.$http.get('/identity/parActivityObject/number/02117616500012212').then(
                data => {
                    this.todoList = data.data.content;
                }
            )
        }
    })
</script>
</body>
</html>